/**
 * Form extra events
 * @see https://github.com/paulzi/form-extra-events
 * @license MIT (https://github.com/paulzi/form-extra-events/blob/master/LICENSE)
 * @version 1.1.2
 */
!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(c){return a.FormExtraEvents=b(c)}):"object"==typeof exports?module.exports=b(require("jquery")):a.FormExtraEvents=b(a.jQuery)}(this,function(a){"use strict";var b=a(window),c=a.extend({catchDefault:!1,dataAttribute:"catchDownload",param:"_requestId",interval:100,timeout:6e4},window.FormExtraEvents||{}),d=function(d){if(!d.isDefaultPrevented()){var e=a(d.target),f=a.Event("submitlast");if(e.trigger(f),f.isDefaultPrevented())d.preventDefault();else{var g,h,i,j,k,l=function(a){e.trigger({type:a,transport:"default"})},m=function(){g&&clearTimeout(g),g!==!1&&(g=!1,k&&(k.remove(),k=null),b.off("beforeunload",m),l("submitstart"))},n=function(){b.off("unload",n),m(),h&&clearInterval(h),i&&clearTimeout(i),j&&(document.cookie=o.param+j+"=; expires="+new Date(0).toUTCString()+"; path=/"),l("submitend")};l("submitbefore");var o=e.data(c.dataAttribute)||{};"object"!=typeof o&&(o={catchDefault:!!o}),o=a.extend(c,o),o.catchDefault&&(j=a.now(),k=a("<input>").attr({type:"hidden",name:o.param,value:j}).appendTo(e),h=setInterval(function(){document.cookie.indexOf(j+"=1")!==-1&&n()},o.interval),o.timeout&&(i=setTimeout(function(){n()},o.timeout))),g=setTimeout(m,100),b.one("beforeunload",m),b.one("unload",n)}}};return a(document).on("submit",function(a){if(!a.isDefaultPrevented()){var c="submit.last";b.off(c),b.one(c,d)}}),c});